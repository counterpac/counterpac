ImageSequence=function(b){var a=this;this.$el=$(b.$el);var c;var d={orientation:"X",currentStep:0,stepCount:0,stepDistance:100,stepSpeed:250,repeat:true,debug:false,bg:false};this.options=$.extend({},d,b);this.stop=function(){clearInterval(c)};this.animate=function(e){this.currentStep=a.options.currentStep;this.reset();c=setInterval(function(){if(a.currentStep<a.options.stepCount){if(a.options.debug){console.log(a.currentStep)}if(a.options.orientation=="X"){if(a.options.bg){a.$el.css("background-position",a.currentStep*a.options.stepDistance*-1+"px "+a.options.yOrigin)}else{a.$el.css("left",a.currentStep*a.options.stepDistance*-1+"px")}}else{if(a.options.orientation=="Y"){if(a.options.bg){a.$el.css("background-position","left "+a.currentStep*a.options.stepDistance*-1+"px")}else{a.$el.css("top",a.currentStep*a.options.stepDistance*-1+"px")}}}++a.currentStep;if(a.currentStep>=a.options.stepCount&&a.options.repeat){a.currentStep=0}}else{clearInterval(c);var f={};if(e&&f.toString.call(e)=="[object Function]"){e()}}},a.options.stepSpeed)};this.reverse=function(e){var f=a.options.currentStep;c=setInterval(function(){if(a.currentStep>=f){if(a.options.debug){console.log(a.currentStep)}if(a.options.orientation=="X"){if(a.options.bg){a.$el.css("background-position",a.currentStep*a.options.stepDistance*-1+"px "+a.options.yOrigin)}else{a.$el.css("left",a.currentStep*a.options.stepDistance*-1+"px")}}else{if(a.options.orientation=="Y"){if(a.options.bg){a.$el.css("background-position","left "+a.currentStep*a.options.stepDistance*-1+"px")}else{a.$el.css("top",a.currentStep*a.options.stepDistance*-1+"px")}}}--a.currentStep}else{clearInterval(c);var g={};if(e&&g.toString.call(e)=="[object Function]"){e()}}},a.options.stepSpeed)};this.reset=function(e){if(a.options.debug){console.log("reset")}clearInterval(c);if(e){a.currentStep=a.options.stepCount-1}else{a.currentStep=a.options.currentStep}if(b.bg){if(e){a.$el.css("background-position","right top")}else{a.$el.css("background-position",a.currentStep*a.options.stepDistance*-1+"px "+a.options.yOrigin)}}else{a.$el.css("left","0");a.$el.css("top","0")}}};